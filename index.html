<h1>√çndice</h1>
<ul id="summary"></ul>

<script>
const slugify = (string) => {
  return string
    .toString()
    .trim()
    .toLowerCase()
    .replace(/\s+/g, '-')
    .replace(/[^\w\-]+/g, '')
    .replace(/\-\-+/g, '-')
    .replace(/^-+/, '')
    .replace(/-+$/, '');
}

  const pages = [
    "Gabriel Sarmento Zamora",
    "Guilherme Ferrari",
    "Guilherme Pattene Dantas",
    "a55 Company",
    "Adsfinance",
    "Plataforma a55",
    "Backend Space",
    "Credito",
    "Project: CX",
    "Formularios",
    "Parcerias",
    "Internacionalizacao",
    "Mx Development",
    "Marketing",
    "Mercado de Capitais",
    "MX Plataforma",
    "Operations",
    "Processo de Bugs",
    "Plataforma de Dados",
    "Portal do Investidor",
    "Platform Credit e Pricing",
    "Product MX",
    "Pricing",
    "Product Team",
    "RH",
    "Sales",
    "Space Modelo",
    "Staff",
    "Strategic Planning",
    "Subsystem: Revolving",
    "Tech Backend Platform",
    "Times",
    "UX",
    "Ecossistemas e Novos Negocios",
    "DataHub",
    "Digital",
  ]

const links = pages
  .sort((a, b) => a.toLocaleLowerCase() > b.toLocaleLowerCase() ? 1 : -1)
  .map(p => ({
    label: p,
    href: `./${slugify(p)}/index.html`
  }))

const createDomLink = (link) => {
  const li = document.createElement('li')
  const a = document.createElement('a')

  a.setAttribute('href', link.href)
  a.append(link.label)
  li.appendChild(a)
  return li
}

const chunks = links.reduce((obj, next) => {
  const key = next.label[0].toLocaleLowerCase()
  return {
    ...obj,
    [key]: [ ...(obj[key] || []), next ]
  }
}, {})

window.addEventListener('load', () => {
  const summary = document.getElementById('summary')
  
for(const key in chunks) {
  const li = document.createElement('li')
  li.append(`# ${key.toLocaleUpperCase()}`)
  summary.appendChild(li)
  const ul = document.createElement('ul')
  const domLinks = chunks[key].map(createDomLink)

  for(const element of domLinks) {
    ul.appendChild(element)
  }
  summary.appendChild(ul)
}
})

</script>

<style>
  #summary > li {
    font-weight: bold;
  }

  #summary > ul {
    margin-bottom: 20px
  }

  #summary > ul li a {
    line-height: 1.75;
  }
</style>